<div class="w-72 text-white min-h-screen p-4 fixed" style="z-index: 10;background-color: #5D8736;">
    <div class="flex items-center mb-8">
        <img src="/images/logo.png" alt="Logo" class="w-16 h-16 mr-7">
        <div>
            <h1 class="text-2xl font-bold">SIKOP</h1>
            <p class="text-sm">Sistem Informasi Koperasi</p>
        </div>
    </div>
    <nav>
        <ul>
            <li class="mb-4">
                <a href="/dashboardKeuangan" class="flex items-center block p-6 py-3 hover:bg-green-900 rounded">
                    <img src="/images/vectordasbor.png" alt="lihat data icon" class="w=5 h-5 ">
                    <span class="ml-2 text-xl ml-5">Dashboard</span>
                </a>
            </li>
            <li class="mb-4">
                <a href="/simpanankoperasi" class="flex items-center block p-6 py-3 hover:bg-green-900 rounded">
                <span class="material-icons">account_balance_wallet</span>
                <span class="ml-2 text-xl ml-5">Simpanan</span>
                </a>
            </li>
            <li class="mb-4">
                <a href="/lihatPinjaman" class="flex items-center block p-6 py-3 hover:bg-green-900 rounded">
                <span class="material-icons">credit_card</span>
                <span class="ml-2 text-xl ml-5">Pinjaman</span>
                </a>
            </li>
            <li>
                <button onclick="toggleDropdown()" class="flex items-center justify-between w-full focus:outline-none">
                    <div class="flex items-center">
                        <a href="#" class="flex items-center block p-6 py-3">
                            <span class="material-icons">attach_money</span>
                            <span class="ml-2 text-xl ml-5">Kredit</span>
                        </a>
                    </div>
                    <img src="/images/angle-small-down.png" alt="dropdown icon" class="w-6 h-6 transform transition-transform" id="dropdownIcon">
                    </button>
                    <ul id="dropdownMenu" class="pl-6 hidden">
                    <li class="mb-2">
                        <a href="/kredit-barang" class="block p-3 py-3 text-lg hover:bg-green-900 rounded">Kredit Barang</a>
                    </li>
                    <li class="mb-2">
                        <a href="/lihatKreditElektronik" class="block p-3 py-3 text-lg hover:bg-green-900 rounded">Kredit Elektronik</a>
                    </li>
                    <li class="mb-2">
                        <a href="/views/koperasi/kreditKeuangan/kreditMotor/lihatKreditMotor.ejs" class="block p-3 py-3 text-lg hover:bg-green-900 rounded">Kredit Motor</a>
                    </li>
                    <li class="mb-2">
                        <a href="/lihatKreditUmroh" class="block p-3 py-3 text-lg hover:bg-green-900 rounded">Kredit Umroh</a>
                    </li>
                </ul>
            </li>
        </ul>
    </nav>
    <!-- Log Out Button di Bawah -->
    <div class="absolute bottom-0 left-0 w-full p-4">
    <button onclick="logout()" class="flex items-center w-full p-6 py-3 hover:bg-green-900 rounded transition duration-300">
        <span class="material-icons">logout</span>
        <span class="ml-5 text-xl">Log Out</span>
    </button>
</div>

<script>
function logout() {
    if (confirm("Yakin ingin keluar?")) {
        fetch('/logout', { method: 'POST' })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert("Anda berhasil logout");
                    window.location.href = "/login";
                } else {
                    alert("Gagal logout, coba lagi.");
                }
            })
            .catch(error => console.error('Logout error:', error));
    }
}

// Dropdown toggle
function toggleDropdown() {
        const dropdownMenu = document.getElementById('dropdownMenu');
        dropdownMenu.classList.toggle('hidden');
    }
</script>
</div>